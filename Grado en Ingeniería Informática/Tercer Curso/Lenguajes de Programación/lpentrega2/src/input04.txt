context PlanDeEstudios
inv: self.Asignatura.esCuatrimestral = True implies
(self.AsignaturaEnPlan.periodo=Periodo :: 1oC or
self.AsignaturaEnPlan.periodo=Periodo :: 2oC)
inv: self.Asignatura.esCuatrimestral = False implies
self.AsignaturaEnPlan.periodo=Periodo::Anual

context AsignacionAreaAsignaturaEnPlan
inv: (self.porcentaje > 0 and self.porcentaje =< 100)
context AsignaturaEnPlan
inv: self.AsignacionAreaAsignaturaEnPlan.porcentaje -> sum() = 100

context AsignaturaEnPlan
inv: (self.tipo = TipoAsignatura::basica or self.tipo = TipoAsignatura::obligatoria) implies
(self.Grupo -> select(tipo = “teoria”) -> notEmpty() and
(self.Grupo -> select(tipo = “practicas”) -> notEmpty())
context AsignaturaEnPlan.tipo = TipoAsignatura::optativa
inv:( self.grupo->collect(grupoAnterior : Grupo | grupoAnterior.fechaDeInicio =
fechaDeInicio::getYear()-1 and grupoAnterior.fechaDeFin = fechaDeFin::getYear()
-1).estudiantes->size() >= 5) implies
(self.Grupo -> select(tipo = “teoria”) -> Empty() and
(self.Grupo -> select(tipo = “practicas”) -> Empty())

context AsignaturaEnPlan
inv: (self.periodo=Periodo::Anual or self.periodo=Periodo::1oC and
self.grupo.fechaDeInicio < fecha:Date() )implies self.grupo.profesor->size()>0

context AsignaturaEnPlanself.periodo=Periodo::2oC
inv: self.grupo.fechaDeInicioSegundoCuatrimestre < fecha:Date implies
self.grupo.profesor->size()>0

context Profesor
inv: (self.asignacion.dedicacion > 0 and self.asignacion.dedicacion =<100)
inv: self.HoraTutoria->size() = 6 * self.asignacion.dedicacion/100 or
self.HoraTutoria->size() = 6

context Departamento
inv:self.areas.Profesor.Asignacion.Dedicacion → sum() >= 1500
